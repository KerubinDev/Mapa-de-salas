<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Configurações - Sistema de Gestão de Salas</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        // Carrega as configurações de tema do localStorage
        const tema = JSON.parse(localStorage.getItem('tema')) || {
            corPrimaria: '#1d4ed8',
            corSecundaria: '#60a5fa',
            corFundo: '#f9fafb',
            corTexto: '#111827'
        };

        // Configura o Tailwind com as cores personalizadas
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: tema.corPrimaria,
                        secondary: tema.corSecundaria,
                        background: tema.corFundo,
                        textColor: tema.corTexto
                    }
                }
            }
        }
    </script>
    <link rel="icon" href="data:,">
</head>
<body class="bg-background">
    <!-- Cabeçalho -->
    <header class="bg-primary text-white shadow-lg">
        <nav class="container mx-auto px-4 py-4">
            <div class="flex justify-between items-center">
                <h1 class="text-2xl font-bold">Configurações</h1>
                <div class="space-x-4">
                    <a href="adminpanel.html" class="hover:underline">Dashboard</a>
                    <a href="salas.html" class="hover:underline">Salas</a>
                    <a href="reservas.html" class="hover:underline">Reservas</a>
                    <button id="btnSair" 
                            class="bg-white text-primary px-4 py-2 rounded-lg 
                                   hover:bg-opacity-90 transition">
                        Sair
                    </button>
                </div>
            </div>
        </nav>
    </header>

    <!-- Conteúdo Principal -->
    <main class="container mx-auto px-4 py-8">
        <div class="max-w-4xl mx-auto space-y-8">
            <!-- Temas -->
            <section class="bg-white p-6 rounded-lg shadow">
                <h2 class="text-xl font-bold mb-4">Personalização</h2>
                
                <!-- Temas Predefinidos -->
                <div class="mb-6">
                    <h3 class="text-lg font-medium mb-3">Temas Predefinidos</h3>
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-4" id="temasPredefinidos">
                        <!-- Será preenchido via JavaScript -->
                    </div>
                </div>

                <!-- Tema Personalizado -->
                <div>
                    <h3 class="text-lg font-medium mb-3">Tema Personalizado</h3>
                    <form id="formTema" class="space-y-4">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">
                                    Cor Primária
                                </label>
                                <input type="color" name="corPrimaria" 
                                       class="w-full h-10 rounded-lg">
                            </div>

                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">
                                    Cor Secundária
                                </label>
                                <input type="color" name="corSecundaria" 
                                       class="w-full h-10 rounded-lg">
                            </div>

                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">
                                    Cor de Fundo
                                </label>
                                <input type="color" name="corFundo" 
                                       class="w-full h-10 rounded-lg">
                            </div>

                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">
                                    Cor do Texto
                                </label>
                                <input type="color" name="corTexto" 
                                       class="w-full h-10 rounded-lg">
                            </div>
                        </div>

                        <button type="submit" 
                                class="w-full bg-primary text-white py-2 px-4 rounded-lg
                                       hover:bg-opacity-90 transition">
                            Aplicar Tema Personalizado
                        </button>
                    </form>
                </div>
            </section>

            <!-- Configurações do Sistema -->
            <section class="bg-white p-6 rounded-lg shadow">
                <h2 class="text-xl font-bold mb-4">Configurações do Sistema</h2>
                <form id="formConfiguracoes" class="space-y-6">
                    <!-- Horários de Funcionamento -->
                    <div>
                        <h3 class="text-lg font-medium mb-3">Horários de Funcionamento</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">
                                    Horário de Abertura
                                </label>
                                <input type="time" name="horarioAbertura" required
                                       class="w-full px-3 py-2 border rounded-lg">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">
                                    Horário de Fechamento
                                </label>
                                <input type="time" name="horarioFechamento" required
                                       class="w-full px-3 py-2 border rounded-lg">
                            </div>
                        </div>
                    </div>

                    <!-- Dias de Funcionamento -->
                    <div>
                        <h3 class="text-lg font-medium mb-3">Dias de Funcionamento</h3>
                        <div class="grid grid-cols-2 md:grid-cols-4 gap-2">
                            <label class="flex items-center space-x-2">
                                <input type="checkbox" name="diasFuncionamento" value="1"
                                       class="rounded border-gray-300">
                                <span>Segunda</span>
                            </label>
                            <label class="flex items-center space-x-2">
                                <input type="checkbox" name="diasFuncionamento" value="2"
                                       class="rounded border-gray-300">
                                <span>Terça</span>
                            </label>
                            <label class="flex items-center space-x-2">
                                <input type="checkbox" name="diasFuncionamento" value="3"
                                       class="rounded border-gray-300">
                                <span>Quarta</span>
                            </label>
                            <label class="flex items-center space-x-2">
                                <input type="checkbox" name="diasFuncionamento" value="4"
                                       class="rounded border-gray-300">
                                <span>Quinta</span>
                            </label>
                            <label class="flex items-center space-x-2">
                                <input type="checkbox" name="diasFuncionamento" value="5"
                                       class="rounded border-gray-300">
                                <span>Sexta</span>
                            </label>
                            <label class="flex items-center space-x-2">
                                <input type="checkbox" name="diasFuncionamento" value="6"
                                       class="rounded border-gray-300">
                                <span>Sábado</span>
                            </label>
                            <label class="flex items-center space-x-2">
                                <input type="checkbox" name="diasFuncionamento" value="0"
                                       class="rounded border-gray-300">
                                <span>Domingo</span>
                            </label>
                        </div>
                    </div>

                    <!-- Intervalos -->
                    <div>
                        <h3 class="text-lg font-medium mb-3">Intervalos entre Reservas</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">
                                    Duração Mínima (minutos)
                                </label>
                                <input type="number" name="duracaoMinima" required min="15" step="15"
                                       class="w-full px-3 py-2 border rounded-lg">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">
                                    Intervalo entre Reservas (minutos)
                                </label>
                                <input type="number" name="intervaloReservas" required min="0" step="5"
                                       class="w-full px-3 py-2 border rounded-lg">
                            </div>
                        </div>
                    </div>

                    <!-- Notificações -->
                    <div>
                        <h3 class="text-lg font-medium mb-3">Notificações</h3>
                        <div class="space-y-2">
                            <label class="flex items-center space-x-2">
                                <input type="checkbox" name="notificarReservas"
                                       class="rounded border-gray-300">
                                <span>Notificar novas reservas</span>
                            </label>
                            <label class="flex items-center space-x-2">
                                <input type="checkbox" name="notificarCancelamentos"
                                       class="rounded border-gray-300">
                                <span>Notificar cancelamentos</span>
                            </label>
                            <label class="flex items-center space-x-2">
                                <input type="checkbox" name="notificarConflitos"
                                       class="rounded border-gray-300">
                                <span>Notificar conflitos de horário</span>
                            </label>
                        </div>
                    </div>

                    <!-- Backup -->
                    <div>
                        <h3 class="text-lg font-medium mb-3">Backup do Sistema</h3>
                        <div class="space-y-4">
                            <div class="flex justify-between items-center">
                                <span>Último backup: <span id="ultimoBackup">Nunca</span></span>
                                <button type="button" id="btnBackup"
                                        class="px-4 py-2 bg-primary text-white rounded-lg
                                               hover:bg-opacity-90 transition">
                                    Fazer Backup Agora
                                </button>
                            </div>
                            <div>
                                <label class="flex items-center space-x-2">
                                    <input type="checkbox" name="backupAutomatico"
                                           class="rounded border-gray-300">
                                    <span>Ativar backup automático diário</span>
                                </label>
                            </div>
                        </div>
                    </div>

                    <button type="submit" 
                            class="w-full bg-primary text-white py-2 px-4 rounded-lg
                                   hover:bg-opacity-90 transition">
                        Salvar Configurações
                    </button>
                </form>
            </section>

            <!-- Logs do Sistema -->
            <section class="bg-white p-6 rounded-lg shadow">
                <div class="flex justify-between items-center mb-4">
                    <h2 class="text-xl font-bold">Logs do Sistema</h2>
                    <a href="logs.html" class="text-primary hover:underline">Ver todos</a>
                </div>
                <div class="space-y-2" id="ultimosLogs">
                    <!-- Será preenchido via JavaScript -->
                </div>
            </section>
        </div>
    </main>

    <!-- Scripts -->
    <script src="/js/temas.js"></script>
    <script src="/js/auth.js"></script>
    <script src="/js/admin/configuracoes.js"></script>
</body>
</html> 